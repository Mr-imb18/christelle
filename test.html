<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Page de veille</title>
  <style>
    @media (max-width: 390px) and (max-height: 844px) {
      body {
        padding: 0;
        margin: 0;
        min-height: 100vh;
        background-color: beige;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
      }
      .abc {
        margin: 24px 0 0 0;
        padding: 12px 4px;
        border-radius: 8px;
        width: 97vw;
        max-width: 370px;
        box-shadow: 0 0 10px rgb(147, 26, 26);
        backdrop-filter: blur(10px);
        border: 1px solid rgb(147, 26, 26);
      }
      #countdown {
        font-size: 1.15em;
        margin-top: 14px;
        color: rgb(147, 26, 26);
        word-break: break-word;
      }
      h1 {
        font-size: 1.1em;
        color: gray;
      }
      h2 {
        font-size: 0.98em;
        text-align: center;
        color: gray;
      }
      p {
        font-size: 0.98em;
      }
    }
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      background-color: beige;
      padding-top: 80px;
    }
    h1 {
      color: grey;
    }
    h2 {
      text-align: right;
      color: grey;
      font-family: 'Times New Roman', Times, serif, sans-serif;
    }
    .abc {
      padding: 20px;
      border-radius: 10px;
      backdrop-filter: blur(1000px);
      box-shadow: 0px 0px 30px rgb(147, 26, 26);
      border: 2px solid rgb(147, 26, 26);
      margin: 100px;
    }
    #countdown {
      font-size: 2em;
      margin-top: 30px;
      color: rgb(147, 26, 26);
    }
    .grid-images {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    grid-auto-rows: 300px;
    gap: 15px;
}

.grid-video {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    grid-auto-rows: 300px;
    gap: 15px;
}

.grid-images img,
.grid-video video {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 10px;
}
  </style>
</head>
<body>
  <!-- Bloc d‚Äôattente -->
  <div class="abc" id="splash">
    <h1>üöß Cette page sera bient√¥t disponible !</h1>
    <p>Ouverture pr√©vue le <strong>14 Septembre 2025 √† 22h00</strong></p>
    <div id="countdown">Chargement du compte √† rebours...<br><span id="time"></span></div>
    <h2>By Benjamin Mbuku</h2>
  </div>

  <!-- Contenu √† afficher apr√®s -->
  <div id="main" style="display: none;"></div>

  <script>
    const now = new Date();
    const target = new Date(2025, 8, 15, 0, 0, 0); // 15 septembre 2025 √† 00h locale
    const countdownEl = document.getElementById("time");

    if (now >= target) {
      showUnlockedPage();
    } else {
      function updateCountdown() {
        const now = new Date();
        const diff = target - now;

        if (diff <= 0) {
          showUnlockedPage();
        } else {
          const h = Math.floor((diff / (1000 * 60 * 60)) % 24);
          const m = Math.floor((diff / (1000 * 60)) % 60);
          const s = Math.floor((diff / 1000) % 60);
          countdownEl.textContent = `${h}h ${m}m ${s}s`;
        }
      }

      updateCountdown();
      setInterval(updateCountdown, 1000);
    }

    function showUnlockedPage() {
      document.getElementById("splash").style.display = "none";
      const main = document.getElementById("main");
      main.style.display = "block";

      main.innerHTML = `
      <main>
        <section class="intro">
            <h1>Joyeux Anniversaire Mujinga Kabuya Christelle</h1>
            <h2>Les ann√©es passent, mais certaines v√©rit√©s demeurent immuables.<br>Depuis ton d√©part, je n'ai eu aucun cpa sur ce:<br>Joyeux anniversaire ma CPA irrempla√ßable</h2>
        </section>

        <section class="photos">
            <h2>Joyeux anniversaire √† l'une des notres</h2>
            <div class="grid-images">
                <img src="collation.jpg" alt="collation">
                <div class="photo-hover">Voir la photo</div>
                <img src="soireee.jpg" alt="soireee">
                <div class="photo-hover">Voir la photo</div>
                <img src="gj.jpg" alt="gj">
                <div class="photo-hover">Voir la photo</div>
                <section class="video">
            <div class="grid-video">
                <video controls src="aaa.mp4">
                    <div class="photo-hover">Voir la photo</div>
                </video>
                </div>
        </section>
                <img src="cic.jpg" alt="cic">
                <div class="photo-hover">Voir la photo</div>
                <img src="souvenir.jpg" alt="souvenir">
                <div class="photo-hover">Voir la photo</div>
            </div>
        </section>
    </main>
      <style>
        

.photo-hover {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5em;
    color: white;
    background-color: rgba(0, 0, 0, 0.7);
    display: none;
}

.video-hover {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5em;
    color: white;
    background-color: rgba(0, 0, 0, 0.7);
    display: none;
}

.lien-conteneur-photo:hover .photo-hover {
    display: flex;
}

.video-hover {
    display: flex;
}

.passage-photo {
    display: none;
    position: fixed;
    z-index: 2000;
    left: 0;
    top: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(0, 0, 0, 0.85);
    justify-content: center;
    align-items: center;
}

.passage-photo.open {
    display: flex;
}

.passage-photo img {
    max-height: 90vh;
    border-radius: 10px;
}

.close-passage,
.prev-passage,
.next-passage {
    position: absolute;
    background: rgba(255, 255, 255, 0.7);
    border: none;
    font-size: 2.5em;
    cursor: pointer;
    padding: 0.2em 0.5em;
    border-radius: 50%;
    color: blue;
    transition: background 0.2s;
}

.close-passage {
    top: 5%;
    right: 5%;
    font-size: 2.5em;
}

.prev-passage {
    left: 5%;
    top: 50%;
    transform: translateY(-50%);
}

.next-passage {
    right: 5%;
    top: 50%;
    transform: translateY(-50%);
}

.close-passage:hover,
.prev-passage:hover,
.next-passage:hover {
    background: #fff;
}
    @media screen and (max-width: 800px) {
    

    .grid-images {
        grid-template-columns: 1fr;
        gap: 15px;
    }

    .grid-video {
        grid-template-columns: 1fr;
        gap: 15px;
    }
}
      </style>
      `;

      // Audio JS
      const playPauseBtn = document.getElementById('playPauseBtn');
      const playIcon = document.getElementById('playIcon');
      const pauseIcon = document.getElementById('pauseIcon');
      const audio = document.getElementById('audioMsg');
      const audioProgress = document.getElementById('audioProgress');
      const audioTime = document.getElementById('audioTime');
      let isPlaying = false;
      let duration = 12;

      audio.addEventListener('loadedmetadata', () => {
        duration = Math.floor(audio.duration) || 12;
        audioTime.textContent = `0:${duration}`;
      });

      playPauseBtn.addEventListener('click', () => {
        if (audio.paused) {
          audio.play();
        } else {
          audio.pause();
        }
      });

      audio.addEventListener('play', () => {
        playIcon.style.display = 'none';
        pauseIcon.style.display = '';
      });
      audio.addEventListener('pause', () => {
        playIcon.style.display = '';
        pauseIcon.style.display = 'none';
      });
      audio.addEventListener('ended', () => {
        playIcon.style.display = '';
        pauseIcon.style.display = 'none';
        audio.currentTime = 0;
        audioProgress.style.width = '0%';
        audioTime.textContent = formatTime(duration);
      });
      audio.addEventListener('timeupdate', () => {
        const percent = (audio.currentTime / duration) * 100;
        audioProgress.style.width = percent + '%';
        const remain = Math.max(0, Math.round(duration - audio.currentTime));
        audioTime.textContent = formatTime(remain);
      });

      function formatTime(secs) {
        const m = Math.floor(secs / 60);
        const s = Math.floor(secs % 60);
        return m + ':' + s.toString().padStart(2, '0');
      }
      const images = Array.from(document.querySelectorAll('.grid-images img'));
const passage = document.getElementById('passage-photo');
const passageImg = document.getElementById('passage-img');
let currentIndex = 0;

// Ouvre le passage sur l'image cliqu√©e
images.forEach((img, idx) => {
    img.style.cursor = "pointer";
    img.addEventListener('click', () => openpassagePhoto(idx));
});

function openpassagePhoto(idx) {
    currentIndex = idx;
    passageImg.src = images[currentIndex].src;
    passage.classList.add('open');
}

function closepassagePhoto() {
    passage.classList.remove('open');
    passageImg.src = "";
}

function changepassagePhoto(dir) {
    currentIndex = (currentIndex + dir + images.length) % images.length;
    passageImg.src = images[currentIndex].src;
}

// Fermer avec la touche Echap
document.addEventListener('keydown', function (e) {
    if (!passage.classList.contains('open')) return;
    if (e.key === "Escape") closepassagePhoto();
    if (e.key === "ArrowLeft") changepassagePhoto(-1);
    if (e.key === "ArrowRight") changepassagePhoto(1);
});
    }
  </script>
</body>
</html>